import{j as t}from"./jsx-runtime.D_zvdyIk.js";import{r as s}from"./index.Be8AcK8B.js";const x=({BASE_URL:n})=>{const[i,d]=s.useState([]),[c,l]=s.useState(1),m=async e=>{e.preventDefault();const a=new FormData(e.target),p={date:a.get("date"),time:a.get("time"),locationId:c,teamAId:parseInt(a.get("teamAId")),teamBId:parseInt(a.get("teamBId"))};try{const r=await fetch(`${n}/api/matches`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${document.cookie.split("; ").find(o=>o.startsWith("token="))?.split("=")[1]}`},body:JSON.stringify(p)});if(!r.ok){const o=await r.json();throw console.error("Error response data:",o.message),new Error("Network response was not ok")}const f=await r.json();console.log("Match created successfully:",f),alert("Partido creado exitosamente"),window.location.reload()}catch{alert("Error creating match")}},u=async()=>{try{const a=await(await fetch(`${n}/api/locations`)).json();d(a.data)}catch(e){console.error("Error fetching locations:",e)}};return s.useEffect(()=>{u()},[]),t.jsxs("div",{className:"w-full justify-center items-center flex flex-col mt-5",children:[t.jsx("p",{children:"Crear Partido"}),t.jsxs("form",{action:"",onSubmit:m,className:"flex flex-col items-center gap-4 mt-4 bg-card/50 p-3 rounded-lg",children:[t.jsx("input",{type:"date",name:"date",id:"date",required:!0,className:"bg-card p-2 rounded-lg w-full"}),t.jsx("input",{type:"time",name:"time",id:"time",required:!0,className:"bg-card p-2 rounded-lg w-full"}),t.jsx("select",{value:c,onChange:e=>l(e.target.value),className:"w-full bg-card p-2 rounded-lg",children:i.map(e=>t.jsx("option",{value:e.id,children:e.name},e.id))}),t.jsx("input",{type:"number",name:"teamAId",id:"teamAId",placeholder:"Team A ID",required:!0,className:"bg-card p-2 rounded-lg w-full"}),t.jsx("input",{type:"number",name:"teamBId",id:"teamBId",placeholder:"Team B ID",required:!0,className:"bg-card p-2 rounded-lg"}),t.jsx("button",{type:"submit",className:"underline",children:"Crear"})]})]})};export{x as default};
