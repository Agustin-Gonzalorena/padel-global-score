import{j as e}from"./jsx-runtime.D_zvdyIk.js";import"./index.Be8AcK8B.js";const p=({BASE_URL:o})=>{const t=async r=>{r.preventDefault();const a=new FormData(r.target),n=a.get("username"),l=a.get("password");try{const s=await fetch(`${o}/api/auth`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:l})});if(!s.ok){const d=await s.json();throw console.error("Error response data:",d.message),new Error("Network response was not ok")}const i=await s.json();document.cookie=`token=${i.data.token}; path=/`,window.location.href="/admin"}catch(s){console.log(s),alert("Error logging in")}};return e.jsx("div",{className:"w-full flex justify-center p-4",children:e.jsxs("form",{onSubmit:t,className:"bg-card/50 rounded-2xl p-2 flex flex-col justify-center gap-5",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"username",children:"Usuario:"}),e.jsx("input",{type:"text",id:"username",name:"username",required:!0,className:"bg-card rounded-lg p-1"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"password",children:"Contrase√±a:"}),e.jsx("input",{type:"password",id:"password",name:"password",required:!0,className:"bg-card rounded-lg p-1"})]}),e.jsx("button",{type:"submit",className:"mt-2 p-2 shadow-xs shadow-white/10 rounded-xl",children:"Iniciar"})]})})};export{p as default};
